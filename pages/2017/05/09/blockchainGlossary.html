<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>区块链系统基本概念介绍-guozhongxin's blog</title>
    <meta name="description" content="">
    <meta name="author" content="guozhongxin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://www.guozhongxin.com/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://www.guozhongxin.com/theme/bootstrap.min.css" rel="stylesheet">
    <link href="http://www.guozhongxin.com/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="http://www.guozhongxin.com/theme/local.css" rel="stylesheet">
    <link href="http://www.guozhongxin.com/theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="http://www.guozhongxin.com">guozhongxin's blog</a>

        <div class="nav-collapse">
        <ul class="nav">
            
            <li><a href="http://www.guozhongxin.com/pages/about-me.html">About Me</a></li>
        </ul>
        <div class="navbar-search pull-right">
            <script type="text/javascript">document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E%3Cscript charset="utf-8" src="http://rp.baidu.com/rp3w/3w.js?sid=6131086231916765095') + '&t=' + (Math.ceil(new Date()/3600000)) + unescape('"%3E%3C/script%3E'));</script>
        </div>
        </div>

    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
    <div class='article'>
        <div class="content-title">
            <h1>区块链系统基本概念介绍</h1>
2017-05-09

by <a class="url fn" href="http://www.guozhongxin.com/author/guozhongxin.html">guozhongxin</a>
 


        </div>
	
        <div><!-- summary:  -->

<p>这篇文章主要是介绍一下区块链技术里基本的名词概念，并会对具体实现进行介绍，对于想深入理解区块链技术的人会有一定的帮助。这些概念大都是通用的，本文中涉及到具体实现的，以ethereum中的实现例进行介绍。</p>
<h2>区块（Block）:</h2>
<p>区块是构成区块链的单位。一个区块中承载着一段时间内全网的新增信息。每段时间，都会产生一个新的区块被添加到区块链上。区块链上记录的信息不一定是虚拟货币的信息，可以是任何有共识的内容，例如知识产权、访问日志、广告点击日志等。</p>
<h2>区块链（BlockChain）:</h2>
<p>区块链即是一个个“区块（Block）”组成的“链（Chain）”。每个区块会记录上个区块的hash值，由此产生一个逻辑上的链。</p>
<h2>公有链，私有链，联盟链</h2>
<ul>
<li>公有链，就是一个开放的区块链系统，任何人都可以加入，进行交易、“挖矿”。市面上几乎所有的虚拟货币都是公有链。</li>
<li>私有链，这里指完全私有区块链（Fully private blockchains），指个人或组织自己搭建的区块链网络，外人一般无法自由地加入或者权限受限。私有链的控制权在少数个体手中。</li>
<li>联盟链，也被称为共同体区块链（Consortium blockchains），介于公有链和私有链之间，一般是多个组织或个人提前达成某种共识，搭建起一个非公开的区块链，各个成员彼此权利对等，通过区块链的种种机制进行制约，共同监管区块链上的数据。</li>
</ul>
<p>在公有链上，由于完全开放，任何人都可以参与进来，为了防止恶意破坏和攻击者，都会要求各个节点（“挖矿”的“矿机”）进行工作量证明（Proof证明）。这使得恶意破坏的代价很高，除非控制区块链网络中半数以上的计算能力，否则无法完成。而本身正常挖矿是能有一定的经济收益的（每个区块的创建者会得到虚拟货币奖励），所以在经济上也是不划算的。</p>
<p>而在私有链和联盟链中，创建区块的权利控制在少数人手中，联盟链中各个节点彼此的身份是已知的，一般是不需要进行工作力证明。另外，各个节点可能存在一定程度的彼此信任，每个节点可以免去对其他节点创建的区块的部分或者全部内容的验证。基于以上两点，即使在同样的网络规模下，私有链和联盟链性能会优于公有链。</p>
<p>不过也有人认为，只有公有链才是“血统纯正”的区块链，具备区块链系统的全部特征（去中心化，透明性，可追踪性，匿名性等等）。不过随着区块链技术的推广和应用，越来越多非公用链形式的区块链系统被实施部署。</p>
<h2>钱包，矿机，地址</h2>
<p>在区块链中，有各种各样的参与者，他们共同构建起一个区块链的社区。</p>
<p>在一般常见的虚拟货币区块链系统中，会有大量的用户在社区内发生交易（Transaction）。所谓的钱包，里面放的可不是钱，而是一个账户的秘钥。每个钱包都有一个ID，被称为这个钱包的地址，可以理解成这个账户的“账号”。一个人可以有多个钱包，每个钱包/账户里对应着数量不等的虚拟货币。通常一笔交易，就是指一个钱包或多个钱包里的虚拟货币，转移到一个或多个钱包中。实际声明这笔交易时，就是用钱包的地址来代表不同的钱包的。</p>
<p>这些互相交易的钱包只是区块链系统的一部分参与者，而真正构建起整个区块链系统的是，是一个个节点，各个节点互相联通，形成一个P2P网络。有些节点将网络上的源源不断交易进行验证，并将一段时间内的交易打包成一个区块（Block），随着时间推移，构成一条“区块链（BlockChain）”。一条交易时会被广播到全网节点的，这些节点同时在处理这些交易，他们各自会打包成区块，再次发送到全网。而同一段时间只有一个Block会最终被大家认同并接受。在公有链上，创建一个被大家都承认的Block，会得到一定的虚拟货币奖励。因此，这些工作就被称为“挖矿”，做这些工作的节点（机器）就被称为矿机。</p>
<p>需要注意的是，有一些节点只进行接收矿机发来的Block，并进行验证，而不自己去打包创建Block。所以并不一定是所有的节点都是“矿机”。</p>
<p>区块链系统中每个节点也会有一个地址作为标识。实际上，区块链系统中的每个实体（节点、钱包，智能合约），都会有一个地址。</p>
<h2>公钥（PublicKey），私钥（PrivateKey）和地址（Address）</h2>
<p>在区块链系统中，对于身份的验证都是利用秘钥加密验证的机制进行的，具体是采用的非对称加密算法来实现的。</p>
<div class="highlight"><pre>公开密钥与私有密钥是一对，如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密；如果用私有密钥对数据进行加密，那么只有用对应的公开密钥才能解密。
</pre></div>


<p>前面提到的“钱包”，里面所存放的“密码”，就是对应的私钥。</p>
<p>简单理解，可以把地址当成公钥的表达形式。地址和公钥是任何人都可以互相转换的。</p>
<p>在区块链系统中，一个用户发出的交易信息，以及一个矿机创建的区块，都是用私钥对交易（或区块）信息进行加密，生成签名，附在交易（区块）之后。当别人收到这条信息时，首先验证这条信息是否真的是由这个用户发出的，就会用签名和信息本身进行decode，可以得到对应的公钥，验证这个公钥和发出这条信息的地址是否是对应的，就可以判断出真假。</p>
<h2>Transaction:</h2>
<p>Transaction就是一条交易记录，由于大部分区块链系统支持智能合约，所以Transaction分为三种：</p>
<ul>
<li>转账</li>
<li>创建智能合约</li>
<li>调用智能合约</li>
</ul>
<p>以Ethereum中的实现为例，了解一下Transaction中的结构：</p>
<div class="highlight"><pre>from: // 发送者的地址
to:  // 接受者的地址（当创建smart contract时此条为空）
value： // 这笔交易的转账金额
gas： // 汽油，用来衡量这条交易执行的复杂程度的度量，这里是用户指定的最多愿意付出的gas数量
gasUsed： // 实际消耗的gas
gasPrice： // 汽油价格，发送者愿意为gas付的价钱，gasPrice乘以gasUsed就等于给矿机的小费
nonce：// 用来标记一条Transaction的标记，在一笔交易tx_a没进链时，可以发出同样nonce的tx_b覆盖之前的tx_a。nonce主要是用来避免“双花”的问题：当你不小心将用一条交易发送两遍，或者由于网络原因矿机收到了两个tx_a，这时候依然只有一笔会生效。Ethereum的实现时将nonce设置为这个发送者之前总共发送过的tx数量
data： // 创建smart contract或者调用smart contract的代码（hash值）
txHash： // 由以上信息生成的hash值，作为tx的ID。由于nonce的原因，txHash不可能重复
r：
v：
s：  // 这三个实际上是签名（Signature）分成了三部分。签名是由发送者的私钥和txhash生成的。 接受者解密时，由签名和txHash可以得到发送者公钥，会检查公钥和发送者地址是否对应。
</pre></div>


<h2>分叉</h2>
<p>硬分叉hard fork</p>
<p>软分叉soft fork</p>
<h2>ProofWork：</h2>
<p>[1]https://blog.ethereum.org/2015/08/07/on-public-and-private-blockchains/</p></div>
	
        <hr>

<!-- 	 -->
        <h2>Comments</h2>
<div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
<script>
  var cloudTieConfig = {
    url: document.location.href, 
    sourceId: "",
    productKey: "cb2e9fa12f2c45049ec290b878757a9b",
    target: "cloud-tie-wrapper"
  };
</script>
<script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>    </div>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="http://www.guozhongxin.com/archives.html">Archives</a>
                <li><a href="http://www.guozhongxin.com/tags.html">Tags</a>
                <li><a href="http://www.guozhongxin.com/" rel="alternate">Atom feed</a></li>
                <li><a href="http://www.guozhongxin.com/feeds/all.rss.xml" rel="alternate">RSS feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="http://www.guozhongxin.com/category/.html"></a></li>
                <li><a href="http://www.guozhongxin.com/category/blockchain.html">blockchain</a></li>
                <li><a href="http://www.guozhongxin.com/category/ganglia.html">ganglia</a></li>
                <li><a href="http://www.guozhongxin.com/category/python.html">Python</a></li>
                <li><a href="http://www.guozhongxin.com/category/spark.html">Spark</a></li>
                <li><a href="http://www.guozhongxin.com/category/summary.html">summary</a></li>
                   
            </ul>
            </div>

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Tags
                </li>

                <li><a href="http://www.guozhongxin.com/tag/.html"></a></li>
                <li><a href="http://www.guozhongxin.com/tag/pelican.html">pelican</a></li>
                <li><a href="http://www.guozhongxin.com/tag/python.html">python</a></li>
                <li><a href="http://www.guozhongxin.com/tag/yuan-ma.html">源码</a></li>
                <li><a href="http://www.guozhongxin.com/tag/source-code.html">source code</a></li>
                <li><a href="http://www.guozhongxin.com/tag/kai-fa-huan-jing.html">开发环境</a></li>
                <li><a href="http://www.guozhongxin.com/tag/spark.html">spark</a></li>
                <li><a href="http://www.guozhongxin.com/tag/ganglia.html">ganglia</a></li>
            </ul>
            </div>

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://getpelican.com/">Pelican</a></li>
                <li><a href="http://python.org/">Python</a></li>
                <li><a href="http://spark.apache.org/">Spark</a></li>
            </ul>
            </div>

            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="http://www.linkedin.com/profile/view?id=317695648"> Linkedin</a></li>
                <li><a href="https://github.com/guozhongxin"> Github</a></li>
                <li><a href="http://weibo.com/u/1832109601"> Weibo</a></li>
                <li><a href="mailto:buptmr.guo@gmail.com"> E-mail</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="http://www.guozhongxin.com">guozhongxin's blog</a> &copy; guozhongxin <img src="http://www.guozhongxin.com/theme/images/icons/smile.png">  2014-2017</p>
</footer>

</div> <!-- /container -->
<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script> -->

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"slide":{"type":"slide","bdImg":"1","bdPos":"right","bdTop":"100"},"image":{"viewList":["tsina","weixin","evernotecn","linkedin","renren"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","weixin","evernotecn","linkedin","renren"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

<script>var _gaq=[['_setAccount','UA-55010568-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
<a href="https://github.com/guozhongxin"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="http://www.guozhongxin.com/theme/images/icons/forkme_right_white.png" alt="Fork me on GitHub" /></a>
 

</body>
</html>